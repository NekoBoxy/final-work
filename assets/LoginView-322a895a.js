import{C as u,a as h}from"./CFooter-12d2ee92.js";import{a as f}from"./axios-bff3f665.js";import{_ as w,r as d,o as v,a as b,b as s,e as c,k as g,q as l,x as p,F as x,p as y,h as C}from"./index-067b362a.js";import"./cart-fd8588df.js";const k={data(){return{username:"",password:""}},components:{CNavbar:u,CFooter:h},methods:{async handleLogin(){try{const e=await f({method:"post",url:"https://vue3-course-api.hexschool.io/v2/admin/signin",data:{username:this.username,password:this.password}}),{token:o,expired:n}=e.data;document.cookie=`hextoken=${o}; expires=${new Date(n)}`,this.$router.push({path:"/admin/products"})}catch(e){alert(e.response.data.message)}}}},r=e=>(y("data-v-d2422bf6"),e=e(),C(),e),V={class:"wrapper"},F={class:"container"},L={class:"row d-flex justify-content-center"},N=r(()=>s("div",{class:"col-12",style:{"text-align":"center"}},[s("h1",{class:"h3 mb-3 font-weight-normal"},"請先登入")],-1)),I={class:"col-12 col-sm-6 mb-3"},S={class:"form-floating mb-3"},q=r(()=>s("label",{for:"username"},"Email address",-1)),B={class:"form-floating"},D=r(()=>s("label",{for:"password"},"Password",-1)),E=r(()=>s("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"}," 登入 ",-1));function M(e,o,n,P,a,i){const m=d("CNavbar"),_=d("CFooter");return v(),b(x,null,[s("div",V,[c(m),s("div",F,[s("div",L,[N,s("div",I,[s("form",{id:"form",class:"form-signin",onSubmit:o[2]||(o[2]=g((...t)=>i.handleLogin&&i.handleLogin(...t),["prevent"]))},[s("div",S,[l(s("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com","onUpdate:modelValue":o[0]||(o[0]=t=>a.username=t),required:""},null,512),[[p,a.username]]),q]),s("div",B,[l(s("input",{type:"password",class:"form-control",id:"password",placeholder:"Password","onUpdate:modelValue":o[1]||(o[1]=t=>a.password=t),required:""},null,512),[[p,a.password]]),D]),E],32)])])])]),c(_)],64)}const z=w(k,[["render",M],["__scopeId","data-v-d2422bf6"]]);export{z as default};
