import{C as h,a as _}from"./CFooter-462d6486.js";import{a as f}from"./axios-bff3f665.js";import{_ as w,r as d,o as v,a as b,b as l,e as s,s as g,l as c,q as m,F as x}from"./index-794ac18e.js";import"./cart-4d6094ac.js";const C={data(){return{username:"",password:""}},components:{CNavbar:h,CFooter:_},methods:{async handleLogin(){const a=await f({method:"post",url:"https://vue3-course-api.hexschool.io/v2/admin/signin",data:{username:this.username,password:this.password}}).catch(n=>{const o=n.response.data.message;alert(o),this.username="",this.password=""}),{token:e,expired:r}=a.data;document.cookie=`hextoken=${e}; expires=${new Date(r)}`,this.$router.push({path:"/admin/products"})}}},y={class:"container"},k={class:"row d-flex justify-content-center"},F=s("div",{class:"col-12",style:{"text-align":"center"}},[s("h1",{class:"h3 mb-3 font-weight-normal"},"請先登入")],-1),N={class:"col-12 col-sm-6"},V={class:"form-floating mb-3"},L=s("label",{for:"username"},"Email address",-1),q={class:"form-floating"},B=s("label",{for:"password"},"Password",-1),M=s("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"}," 登入 ",-1);function D(a,e,r,n,o,i){const p=d("CNavbar"),u=d("CFooter");return v(),b(x,null,[l(p),s("div",y,[s("div",k,[F,s("div",N,[s("form",{id:"form",class:"form-signin",onSubmit:e[2]||(e[2]=g((...t)=>i.handleLogin&&i.handleLogin(...t),["prevent"]))},[s("div",V,[c(s("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com","onUpdate:modelValue":e[0]||(e[0]=t=>o.username=t),required:""},null,512),[[m,o.username]]),L]),s("div",q,[c(s("input",{type:"password",class:"form-control",id:"password",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=t=>o.password=t),required:""},null,512),[[m,o.password]]),B]),M],32)])])]),l(u)],64)}const j=w(C,[["render",D]]);export{j as default};
