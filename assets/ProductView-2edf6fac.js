import{C as x,a as k}from"./CFooter-9e29e696.js";import{_ as L,m,r as p,o as a,a as c,b as t,e as r,w as g,t as l,l as u,q as P,v as N,F as b,f as q,u as F,i as y,p as S,h as V,g as w}from"./index-200fe07f.js";import{u as I}from"./cart-f94a13e7.js";import{a as h}from"./axios-bff3f665.js";const j={components:{CNavbar:x,CFooter:k},data(){return{id:"",product:{},recentProducts:[],qty:1}},methods:{...m(I,["updateNum"]),...m(F,["setLoader"]),async handleProductClick(o){await this.$router.push(`/product/${o.id}`),await this.$router.go()},async getProduct(){try{const{id:o}=this.$route.params,e=await h({method:"get",url:`https://vue3-course-api.hexschool.io/v2/api/catboxy/product/${o}`});this.product=e.data.product}catch(o){alert(o.response.data.message)}},async getProducts(){try{const e=(await h({method:"get",url:"https://vue3-course-api.hexschool.io/v2/api/catboxy/products"})).data.products.filter(_=>_.id!==this.id);this.recentProducts=[e[0],e[1],e[2]]}catch(o){alert(o.response.data.message)}},async handleAddCart(){try{this.setLoader(!0),await h({method:"post",url:"https://vue3-course-api.hexschool.io/v2/api/catboxy/cart",data:{data:{product_id:this.product.id,qty:parseInt(this.qty,10)}}}),await this.updateNum(),this.qty=1,this.setLoader(!1)}catch(o){alert(o.response.data.message)}}},async mounted(){this.setLoader(!0),this.id=this.$route.params.id,await this.getProduct(),await this.getProducts(),this.setLoader(!1)}},i=o=>(S("data-v-5acd4d32"),o=o(),V(),o),A={class:"wrapper"},B={class:"container"},M={class:"row"},R={class:"col"},U={"aria-label":"breadcrumb"},D={class:"breadcrumb"},E={class:"breadcrumb-item"},T={class:"breadcrumb-item"},Y=i(()=>t("li",{class:"breadcrumb-item active","aria-current":"page"},"產品細節",-1)),Z={class:"row pb-5"},z={class:"col-12 col-lg-6 gx-5 d-flex justify-content-center"},G=["src"],H={key:1,class:"bd-placeholder-img card-img-top",width:"100%",height:"300",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"Placeholder",preserveAspectRatio:"xMidYMid slice",focusable:"false"},J=i(()=>t("title",null,"Placeholder",-1)),K=i(()=>t("rect",{width:"100%",height:"100%",fill:"#868e96"},null,-1)),O=[J,K],Q={key:0,class:"col-12 col-lg-6 gx-5"},W={class:"row"},X={class:"col-12"},$={class:"col-12 mb-2"},tt={class:"badge bg-primary rounded-pill"},st={class:"col-12 mb-2"},ot=i(()=>t("h5",null,"特點：",-1)),et={class:"col-12 mb-2"},at=i(()=>t("h5",null,"細節：",-1)),ct=i(()=>t("div",{class:"col-12 mb-2"},[t("h5",null,"常見問題："),t("ul",null,[t("li",null,"每株植物型態會略有不同，出貨時與照片型態不同皆屬正常。"),t("li",null,"花卉、盆栽等屬於生鮮產品，不適用網購七天鑑賞期。出貨後不可退換。")])],-1)),dt={class:"col-12 pb-1"},lt={key:0,class:"h5"},it={key:1,class:"h6"},rt={class:"col-12 pb-1"},nt={key:0,class:"h4"},pt={class:"col-12 pb-1"},ut={class:"input-group"},ht=w('<option value="1" selected data-v-5acd4d32>1</option><option value="2" data-v-5acd4d32>2</option><option value="3" data-v-5acd4d32>3</option><option value="4" data-v-5acd4d32>4</option><option value="5" data-v-5acd4d32>5</option><option value="6" data-v-5acd4d32>6</option><option value="7" data-v-5acd4d32>7</option><option value="8" data-v-5acd4d32>8</option><option value="9" data-v-5acd4d32>9</option><option value="10" data-v-5acd4d32>10</option>',10),_t=[ht],vt={key:1,class:"col-12 col-lg-6 gx-5 placeholder-glow"},mt=w('<span class="placeholder col-4" data-v-5acd4d32></span><br data-v-5acd4d32><span class="placeholder col-1" data-v-5acd4d32></span><br data-v-5acd4d32><span class="placeholder col-3" data-v-5acd4d32></span><br data-v-5acd4d32><span class="placeholder col-4" data-v-5acd4d32></span><br data-v-5acd4d32><span class="placeholder col-8" data-v-5acd4d32></span><br data-v-5acd4d32><span class="placeholder col-2" data-v-5acd4d32></span><br data-v-5acd4d32><span class="placeholder col-8" data-v-5acd4d32></span><br data-v-5acd4d32><span class="placeholder col-6" data-v-5acd4d32></span><br data-v-5acd4d32><span class="placeholder col-2" data-v-5acd4d32></span><br data-v-5acd4d32><span class="placeholder col-12" data-v-5acd4d32></span><br data-v-5acd4d32>',20),gt=[mt],bt=i(()=>t("div",{class:"row"},[t("div",{class:"col d-flex justify-content-center"},[t("div",null,[t("h5",null,"你可能也喜歡……")])])],-1)),yt={class:"row justify-content-center mb-3"},wt=["onClick"],Ct=["src"],ft={class:"q-card-title"},xt={class:"row justify-content-between"},kt={class:"col-auto text-start"},Lt=i(()=>t("div",{class:"col-auto text-end"},[t("svg",{width:"13",height:"22",viewBox:"0 0 13 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M12.6138 11.1865C12.6138 11.0319 12.5812 10.8895 12.5161 10.7593C12.4591 10.6209 12.3737 10.4948 12.2598 10.3809L2.5918 0.908203C2.37207 0.696615 2.10352 0.59082 1.78613 0.59082C1.58268 0.59082 1.39551 0.639648 1.22461 0.737305C1.05371 0.834961 0.919434 0.969238 0.821777 1.14014C0.724121 1.3029 0.675293 1.49007 0.675293 1.70166C0.675293 2.00277 0.781087 2.26725 0.992676 2.49512L9.87939 11.1865L0.992676 19.8779C0.781087 20.1058 0.675293 20.3703 0.675293 20.6714C0.675293 20.883 0.724121 21.0701 0.821777 21.2329C0.919434 21.4038 1.05371 21.5381 1.22461 21.6357C1.39551 21.7334 1.58268 21.7822 1.78613 21.7822C2.10352 21.7822 2.37207 21.6724 2.5918 21.4526L12.2598 11.9922C12.3737 11.8783 12.4591 11.7562 12.5161 11.626C12.5812 11.4876 12.6138 11.3411 12.6138 11.1865Z",fill:"#F8FBF9"})])],-1));function Pt(o,e,_,Nt,s,n){const C=p("CNavbar"),v=p("RouterLink"),f=p("CFooter");return a(),c(b,null,[t("div",A,[r(C),t("div",B,[t("div",M,[t("div",R,[t("nav",U,[t("ol",D,[t("li",E,[r(v,{to:"/"},{default:g(()=>[y("首頁")]),_:1})]),t("li",T,[r(v,{to:"/products"},{default:g(()=>[y("產品一覽")]),_:1})]),Y])])])]),t("div",Z,[t("div",z,[s.product.title?(a(),c("img",{key:0,class:"img-fluid",src:s.product.imageUrl,style:{"object-fit":"cover"},alt:"product image"},null,8,G)):(a(),c("svg",H,O))]),s.product.title?(a(),c("div",Q,[t("div",W,[t("div",X,[t("h3",null,l(s.product.title),1)]),t("div",$,[t("span",tt,l(s.product.category),1)]),t("div",st,[ot,t("div",null,l(s.product.description),1)]),t("div",et,[at,t("div",null,l(s.product.content),1)]),ct,t("div",dt,[s.product.price?u("",!0):(a(),c("div",lt,l(s.product.origin_price)+" 元",1)),s.product.price?(a(),c("del",it,l(s.product.origin_price)+" 元",1)):u("",!0)]),t("div",rt,[s.product.price?(a(),c("div",nt,"售價 "+l(s.product.price)+" 元",1)):u("",!0)]),t("div",pt,[t("div",ut,[P(t("select",{class:"form-select",id:"selectNum","onUpdate:modelValue":e[0]||(e[0]=d=>s.qty=d),required:""},_t,512),[[N,s.qty]]),t("button",{type:"button",class:"btn btn-primary",onClick:e[1]||(e[1]=(...d)=>n.handleAddCart&&n.handleAddCart(...d))}," 加入購物車 ")])])])])):(a(),c("div",vt,gt))]),bt,t("div",yt,[(a(!0),c(b,null,q(s.recentProducts,d=>(a(),c("div",{class:"col-12 col-md-4 g-4",style:{display:"flex","align-items":"stretch"},key:d.id},[t("div",{class:"card",style:{width:"100%",cursor:"pointer"},onClick:qt=>n.handleProductClick(d)},[t("img",{src:d.imageUrl,class:"card-img-top",alt:"anotherImg"},null,8,Ct),t("div",ft,[t("div",xt,[t("div",kt,[t("span",null,l(d.title),1)]),Lt])])],8,wt)]))),128))])])]),r(f)],64)}const jt=L(j,[["render",Pt],["__scopeId","data-v-5acd4d32"]]);export{jt as default};
