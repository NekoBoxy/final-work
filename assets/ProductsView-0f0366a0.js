import{C as f,a as v}from"./CFooter-a7210fc2.js";import{C}from"./CPagination-19072149.js";import{a as p}from"./axios-bff3f665.js";import{_ as x,m as k,r as i,o as l,a as d,b as n,e as t,w as u,t as _,F as h,f as w,g as m}from"./index-84123ec3.js";import{u as N}from"./cart-614bf593.js";const P={props:[],components:{CNavbar:f,CFooter:v,CPagination:C},data(){return{category:"",products:{},pagination:{total_pages:1,current_page:1,has_pre:!1,has_next:!1,category:""}}},methods:{...k(N,["updateNum"]),async getProducts(s){const o=await p({method:"get",url:"https://vue3-course-api.hexschool.io/v2/api/catboxy/products",params:{page:s||this.pagination.current_page,category:this.category}});this.products=o.data.products,this.pagination=o.data.pagination},handleCategory(s){this.category=s,s?this.$router.push({path:"/products",query:{category:s}}):this.$router.push({path:"/products"}),this.getProducts()},async addCart(s,o=1){await p({method:"post",url:"https://vue3-course-api.hexschool.io/v2/api/catboxy/cart",data:{data:{product_id:s,qty:o}}}),await this.updateNum()}},async mounted(){this.category=this.$route.query.category,this.getProducts()}},$={class:"container"},F={class:"row"},V={class:"col"},B={"aria-label":"breadcrumb"},L={class:"breadcrumb"},q={class:"breadcrumb-item"},O={class:"breadcrumb-item"},R={class:"breadcrumb-item active","aria-current":"page"},S={class:"row"},j={class:"col-12 col-md-2 d-flex flex-column"},A=t("input",{type:"radio",class:"btn-check",name:"options-outlined",id:"outlined1",autocomplete:"off",checked:""},null,-1),D=t("input",{type:"radio",class:"btn-check",name:"options-outlined",id:"outlined2",autocomplete:"off"},null,-1),E=t("input",{type:"radio",class:"btn-check",name:"options-outlined",id:"outlined3",autocomplete:"off"},null,-1),T=t("input",{type:"radio",class:"btn-check",name:"options-outlined",id:"outlined4",autocomplete:"off"},null,-1),U={class:"col-12 col-md-10"},z={class:"row"},G={class:"col pb-3"},H={class:"row"},I={class:"card mb-3"},J=["src"],K={class:"card-body"},M=["title"],Q=["onClick"],W={class:"row"},X={class:"col"};function Y(s,o,Z,tt,c,a){const b=i("CNavbar"),r=i("RouterLink"),g=i("CPagination"),y=i("CFooter");return l(),d(h,null,[n(b),t("div",$,[t("div",F,[t("div",V,[t("nav",B,[t("ol",L,[t("li",q,[n(r,{to:"/"},{default:u(()=>[m("首頁")]),_:1})]),t("li",O,[n(r,{to:"/products"},{default:u(()=>[m("產品一覽")]),_:1})]),t("li",R,_(c.category||"全部"),1)])])])]),t("div",S,[t("div",j,[A,t("label",{class:"btn btn-outline-primary mb-2",style:{"min-width":"110px"},for:"outlined1",onClick:o[0]||(o[0]=e=>a.handleCategory(""))},"全部"),D,t("label",{class:"btn btn-outline-primary mb-2",style:{"min-width":"110px"},for:"outlined2",onClick:o[1]||(o[1]=e=>a.handleCategory("盆栽"))},"盆栽"),E,t("label",{class:"btn btn-outline-primary mb-2",style:{"min-width":"110px"},for:"outlined3",onClick:o[2]||(o[2]=e=>a.handleCategory("盆花"))},"盆花"),T,t("label",{class:"btn btn-outline-primary mb-2",style:{"min-width":"110px"},for:"outlined4",onClick:o[3]||(o[3]=e=>a.handleCategory("花束"))},"花束")]),t("div",U,[t("div",z,[t("div",G,[t("div",H,[(l(!0),d(h,null,w(c.products,e=>(l(),d("div",{class:"col-sm-12 col-md-4",key:e.id},[t("div",I,[n(r,{to:{path:`/product/${e.id}`}},{default:u(()=>[t("img",{src:e.imageUrl,class:"img-fluid card-img-top boxy",style:{"object-fit":"cover",height:"300px"},alt:"..."},null,8,J)]),_:2},1032,["to"]),t("div",K,[t("h5",{class:"card-title text-truncate",title:e.title},_(e.title),9,M),t("button",{type:"button",class:"btn btn-outline-primary",onClick:ot=>a.addCart(e.id)},"加入購物車",8,Q)])])]))),128))])])]),t("div",W,[t("div",X,[n(g,{total_pages:c.pagination.total_pages,onOn_page:a.getProducts},null,8,["total_pages","onOn_page"])])])])])]),n(y)],64)}const ct=x(P,[["render",Y]]);export{ct as default};
