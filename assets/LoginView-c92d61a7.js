import{a as p}from"./axios-bff3f665.js";import{_ as l,o as m,c as u,b as s,j as h,i as c,v as d,r as _,f}from"./index-90bc9133.js";const w={data(){return{username:"",password:""}},methods:{async handleLogin(){const n=await p({method:"post",url:"https://vue3-course-api.hexschool.io/v2/admin/signin",data:{username:this.username,password:this.password}}).catch(a=>{const o=a.response.data.message;alert(o),this.username="",this.password=""}),{token:e,expired:r}=n.data;document.cookie=`hextoken=${e}; expires=${new Date(r)}`,this.$router.push({path:"/admin/products"})}}},g={class:"container"},v={class:"row justify-content-center"},b=s("h1",{class:"h3 mb-3 font-weight-normal"},"請先登入",-1),x={class:"col-8"},k={class:"form-floating mb-3"},$=s("label",{for:"username"},"Email address",-1),L={class:"form-floating"},y=s("label",{for:"password"},"Password",-1),B=s("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"}," 登入 ",-1);function C(n,e,r,a,o,i){return m(),u("div",g,[s("div",v,[b,s("div",x,[s("form",{id:"form",class:"form-signin",onSubmit:e[2]||(e[2]=h((...t)=>i.handleLogin&&i.handleLogin(...t),["prevent"]))},[s("div",k,[c(s("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com","onUpdate:modelValue":e[0]||(e[0]=t=>o.username=t),required:""},null,512),[[d,o.username]]),$]),s("div",L,[c(s("input",{type:"password",class:"form-control",id:"password",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=t=>o.password=t),required:""},null,512),[[d,o.password]]),y]),B],32)])])])}const V=l(w,[["render",C]]),M={components:{CheckLogin:V}};function j(n,e,r,a,o,i){const t=_("CheckLogin");return m(),f(t)}const E=l(M,[["render",j]]);export{E as default};
